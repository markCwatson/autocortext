This provides the .l5k program export overview of MTR_MeteringBelt routine within the PLC from the SIPTU HS5160 machine from Kliklok-Woodman, a conveyor. Use this program to understand the logic so that it can be queried in the future. What will often be asked is information about why a program may not be working, so this document provides the information necessary to answer this.
(MAIN := "P00_Main",
	                          MODE := 0,
	                          DisableFlag := 0,
	                          UseAsFolder := 0)
		TAG
			ActivateVacuumOutput : BOOL (RADIX := Decimal) := 0;
			AdjustmentMoveCmd : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			AverageTorque : REAL (RADIX := Float) := 0.00000000e+000;
			AverageTorqueAccum : REAL (RADIX := Float) := 5.29375410e+000;
			AverageTorqueCounter : DINT (RADIX := Decimal) := 181;
			AxisAccelRate : REAL (RADIX := Float) := 2.00000000e+000;
			AxisDecelRate : REAL (RADIX := Float) := 2.00000000e+000;
			AxisMoveDist : REAL (RADIX := Float) := 4.14119244e-001;
			AxisMoveSpeed : REAL (RADIX := Float) := 2.00000000e+000;
			Axis_Cam_Length : DINT (RADIX := Decimal) := 2;
			Axis_CAM_MAS : MOTION_INSTRUCTION  := [0,0,0,0,0,0,0,0,0];
			Axis_Cam_Pending : CAM[10]  := [[0.00000000e+000,0.00000000e+000,0],[1.00000000e+000,1.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0]];
			Axis_Enable : MOTION_INSTRUCTION  := [536870912,0,0,1,0,0,0,0,0];
			Axis_InitialCamProfile : CAM_PROFILE[10]  := [[2,0,0,0,0,0,0,0,1072693248,0,0,0,0,0],[2,1071644672,0,1071644672,0,0,0,0,1072693248,0,0,0,0,0],[0,1071644672,0,1071644672
					,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672
					,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0
					,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0]];
			Axis_Initial_MAPC : MOTION_INSTRUCTION  := [570425344,0,0,0,0,0,0,0,0];
			Axis_Initial_MCCP : MOTION_INSTRUCTION  := [570425344,0,0,0,0,0,0,0,0];
			Axis_Jog : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			Axis_MAFR : MOTION_INSTRUCTION  := [536870912,0,0,1,0,0,0,0,0];
			Axis_MAFR2 : MOTION_INSTRUCTION  := [570425344,0,0,1,0,0,0,0,0];
			Axis_MASD : MOTION_INSTRUCTION  := [570425344,0,2,1,0,0,0,0,0];
			Axis_MASD2 : MOTION_INSTRUCTION  := [570425344,0,2,1,0,0,0,0,0];
			Axis_MASR : MOTION_INSTRUCTION  := [536870912,0,0,1,0,0,0,0,0];
			Axis_Pending2CamProfile : CAM_PROFILE[10]  := [[2,0,0,0,0,0,0,0,1072693248,0,0,0,0,0],[2,1071644672,0,1071644672,0,0,0,0,1072693248,0,0,0,0,0],[0,1071644672,0,1071644672
					,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672
					,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0
					,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0],[0,1071644672,0,1071644672,0,0,0,0,0,0,0,0,0,0]];
			Axis_Pending2_MAPC : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			Axis_Pending2_MCCP : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			Axis_PendingCamProfile : CAM_PROFILE[10]  := [[2,0,0,0,0,1,0,0,1072693248,0,1066031938,1653035796,-1086395860,-939655348],[2,1077030932,-2147483648
					,1077123931,1073741824,1,0,0,1072693248,0,0,0,0,0],[0,1077030932,-2147483648,1077123931,1073741824,1
					,0,0,0,0,0,0,0,0],[0,1077030932,-2147483648,1077123931,1073741824,1,0,0,0,0,0,0,0,0],[0,1077030932,-2147483648
					,1077123931,1073741824,1,0,0,0,0,0,0,0,0],[0,1077030932,-2147483648,1077123931,1073741824,1,0,0,0,0,0,0,0,0],[0
					,1077030932,-2147483648,1077123931,1073741824,1,0,0,0,0,0,0,0,0],[0,1077030932,-2147483648,1077123931
					,1073741824,1,0,0,0,0,0,0,0,0],[0,1077030932,-2147483648,1077123931,1073741824,1,0,0,0,0,0,0,0,0],[0,1077030932
					,-2147483648,1077123931,1073741824,1,0,0,0,0,0,0,0,0]];
			Axis_Pending_MAPC : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			Axis_Pending_MCCP : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			Axis_Stop_All : MOTION_INSTRUCTION  := [301989888,11,0,0,0,0,0,0,0];
			Axis_Stop_Jogging : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			CamCalcState : DINT (RADIX := Decimal) := 10;
			CamMCCPCommand : MOTION_INSTRUCTION  := [570425344,0,0,0,0,0,0,0,0];
			CamMCSVCommand : MOTION_INSTRUCTION  := [570425344,0,0,0,10,0,0,0,0];
			CamMRPCommand : MOTION_INSTRUCTION  := [536870912,0,2,3,0,0,0,0,0];
			CamProfile : CAM_PROFILE[30]  := [[3,0,0,0,0,0,0,0,1068243790,-2147483648,0,0,0,0],[2,1076363264,0,1071977594,-536870912,0,0,0,1068243790,-2147483648
					,0,0,0,0],[0,1076363264,0,1071977594,-536870912,0,0,0,1072291178,1184133215,1069272785,-1524885568,-1075376443
					,1003819472],[0,1076363264,0,1071977594,-536870912,0,0,0,1072121746,1705918084,-1076125069,1886950608
					,1072868416,1124507824],[0,1076363264,0,1071977594,-536870912,0,0,0,1072127885,-1565354606,1071407693
					,1486572840,-1077661177,-1919513152],[0,1076363264,0,1071977594,-536870912,0,0,0,1072751529,1916403913
					,1070233999,1557448080,-1079291532,61247744],[0,1076363264,0,1071977594,-536870912,0,0,0,1072926450
					,-1514229227,1069562627,-613003392,-1079852495,-1156872576],[0,1076363264,0,1071977594,-536870912
					,0,0,0,1073030597,-154454306,1068655714,1789131296,-1080567030,542551808],[0,1076363264,0,1071977594
					,-536870912,0,0,0,1073087610,-15437197,1067639933,1023865152,-1080830220,143538176],[0,1076363264
					,0,1071977594,-536870912,0,0,0,1073111066,216203093,1065356568,-630121984,-1080916827,-1116705024
					],[0,1076363264,0,1071977594,-536870912,0,0,0,1073105062,1298108476,-1080835988,787487360,-1080801163
					,28313344],[0,1076363264,0,1071977594,-536870912,0,0,0,1073069259,1033813949,-1079437683,-658763072
					,-1080339194,1003450880],[0,1076363264,0,1071977594,-536870912,0,0,0,1072996887,-1138396975,-1078539479
					,1120654432,-1084001392,2022797312],[0,1076363264,0,1071977594,-536870912,0,0,0,1072901657,-775193343
					,-1078479724,141731232,1061345743,50692096],[0,1076363264,0,1071977594,-536870912,0,0,0,1072805012
					,-55796949,-1078494202,-1687579456,1063967169,1972099072],[0,1076363264,0,1071977594,-536870912
					,0,0,0,1072711398,998381136,-1078576687,-1981348256,1065083203,881298432],[0,1076363264,0,1071977594
					,-536870912,0,0,0,1072558180,714479398,-1078747981,1023037760,1065694985,965602816],[0,1076363264
					,0,1071977594,-536870912,0,0,0,1072413810,-559712568,-1079032637,73361632,1066066745,2139389696
					],[0,1076363264,0,1071977594,-536870912,0,0,0,1072306384,1524370871,-1079693427,1955445120,1066248208
					,-933227264],[0,1076363264,0,1071977594,-536870912,0,0,0,1072242383,-1242803618,-1080811250,1389585024
					,1066225795,1593519104],[0,1076363264,0,1071977594,-536870912,0,0,0,1072223672,-848123698,1063105859
					,1183838208,1065916897,-1145883136],[0,1076363264,0,1071977594,-536870912,0,0,0,1072246369,340331112
					,1066684093,-2127599744,-1080475131,652477184],[0,1076363264,0,1071977594,-536870912,0,0,0,1072249162
					,-513200750,-1080978358,958831744,-1080578852,1112117248],[0,1076363264,0,1071977594,-536870912
					,0,0,0,1072176795,1712471886,-1079342134,1313503712,1067771835,402989120],[0,1076363264,0,1071977594
					,-536870912,0,0,0,1072132283,-2041719501,1065566009,1458887424,-1082012930,-1826080768],[0,1076363264
					,0,1071977594,-536870912,0,0,0,1072138721,-1173528385,1063754729,-1571108864,1064876636,1346664448
					],[0,1076363264,0,1071977594,-536870912,0,0,0,1072144117,-1854101552,1065245114,224444416,1068758728
					,-1101797376],[0,1076363264,0,1071977594,-536870912,0,0,0,1072182552,0,0,0,0,0],[0,1076363264,0,1071977594
					,-536870912,0,0,0,1072182552,0,0,0,0,0],[0,1076363264,0,1071977594,-536870912,0,0,0,0,0,0,0,0,0]];
			CamTable : CAM[30]  := [[0.00000000e+000,0.00000000e+000,0],[1.20000000e+001,6.58749998e-001,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000,0],[0.00000000e+000,0.00000000e+000
					,0]];
			ContactPosition : REAL (RADIX := Float) := 5.61871643e+001;
			CorrectionAccel : REAL (RADIX := Float) := 1.07901111e-001;
			CorrectionCalcState : DINT (RADIX := Decimal) := 0;
			CorrectionDistance : REAL (RADIX := Float) := 0.00000000e+000;
			CorrectionSpeed : REAL (RADIX := Float) := 3.59670371e-002;
			CurrentCorrectionDistance : REAL (RADIX := Float) := 3.31517160e-002;
			CurrentDistanceToContact : REAL (RADIX := Float) := 1.96068611e+001;
			CurrentTorque : REAL (RADIX := Float) := 2.97298599e-002;
			DistanceToContactMOD : REAL (RADIX := Float) := 2.61657715e-001;
			DoubleMachinePitch : REAL (RADIX := Float) := 0.00000000e+000;
			FeederNegTolerance : REAL (RADIX := Float) := -6.00000000e+000;
			FeederPosTolerance : REAL (RADIX := Float) := 6.00000000e+000;
			FirstTorque : REAL (RADIX := Float) := 7.02018887e-002;
			HalfMachinePitch : REAL (RADIX := Float) := 6.00000000e+000;
			HMI_ForceOFF4 : DINT (RADIX := Decimal) := 0;
			HMI_ForceOFF9 : DINT (RADIX := Decimal) := 0;
			Hoiming_MASR_Command : MOTION_INSTRUCTION  := [536870912,0,0,0,0,0,0,0,0];
			HomePositionTemp : REAL (RADIX := Float) := 0.00000000e+000;
			HomeSequence : DINT (RADIX := Decimal) := 40;
			HomeTimer : TIMER  := [2860869,2000,0];
			HomingMASDCommand : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			HomingMASRCommand : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			HomingOneshot : BOOL (RADIX := Decimal) := 0;
			Homing_MASD_Command : MOTION_INSTRUCTION  := [536870912,0,2,1,0,0,0,0,0];
			InitializeTimer : TIMER  := [3754994,3000,0];
			JogAccel : REAL (RADIX := Float) := 1.33333337e+000;
			JogDecel : REAL (RADIX := Float) := 2.00000000e+000;
			JogSpeed : REAL (RADIX := Float) := 1.66666663e+000;
			Jog_Direction : DINT (RADIX := Decimal) := 0;
			MAG_Command : MOTION_INSTRUCTION  := [637534209,0,0,0,0,0,0,0,0];
			MAH_command : MOTION_INSTRUCTION  := [-2080374784,0,2,2,0,0,0,0,0];
			MAJ_command : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			MAM_command : MOTION_INSTRUCTION  := [704643072,0,0,0,0,0,0,0,0];
			ManualMode_MAS_command : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			MAPCCommand : MOTION_INSTRUCTION  := [637534208,0,0,0,0,0,0,0,0];
			MARCommand : MOTION_INSTRUCTION  := [0,0,0,0,0,0,0,0,0];
			MASCommand : MOTION_INSTRUCTION  := [570425344,0,0,0,0,0,0,0,0];
			MASD_Command : MOTION_INSTRUCTION  := [536870912,0,2,1,1,0,0,0,0];
			MASR_command : MOTION_INSTRUCTION  := [536870912,0,0,0,0,0,0,0,0];
			MasterAxis OF ENT_Pusher_Chain ;
			MasterAxisPitchPos OF ENT_Pusher_Chain_Pitch_Pos (RADIX := Float);
			MasterEndPosition : REAL (RADIX := Float) := 1.81878128e+001;
			MAS_command : MOTION_INSTRUCTION  := [301989888,7,0,0,0,0,0,0,0];
			MODFeederPosition : REAL (RADIX := Float) := 2.03630996e+000;
			MSF_Command : MOTION_INSTRUCTION  := [536870912,0,2,1,0,0,0,0,0];
			MSO_command : MOTION_INSTRUCTION  := [536870912,0,0,1,0,0,0,0,0];
			OffPositionCalcOneshot : BOOL (RADIX := Decimal) := 0;
			OnPositionCalcOneshot : BOOL (RADIX := Decimal) := 0;
			PositionSequence : DINT (RADIX := Decimal) := 0;
			PrefoldTriggerFIFO : REAL[5] (RADIX := Float) := [0.00000000e+000,0.00000000e+000,0.00000000e+000,0.00000000e+000,0.00000000e+000];
			PrefoldTriggerFIFOControl : CONTROL  := [0,5,0];
			RetryTimer : TIMER  := [3031926,100,0];
			Retry_MSO : TIMER  := [610861,1000,0];
			RunIntoAbort : BOOL (RADIX := Decimal) := 0;
			ServoAxis OF MTR_MeteringBelt ;
			ServoAxis_CMD OF MeteringBelt_CMD ;
			ServoAxis_Status OF MeteringBelt_Status ;
			ServoAxis_Tags OF MeteringBelt_Tags ;
			Servo_MAH_command : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			Servo_MAH_command2 : MOTION_INSTRUCTION  := [33554432,0,0,0,0,0,0,0,0];
			SlaveAxisDerivative : REAL (RADIX := Float) := -8.45631137e-002;
			SlaveAxisSlope : REAL (RADIX := Float) := 1.36891305e+000;
			SlaveEndPosition : REAL (RADIX := Float) := 1.96068611e+001;
			StateCamTimer : TIMER  := [22193,20000,0];
			State_Cam : DINT (RADIX := Decimal) := 0;
			State_Homing : DINT (RADIX := Decimal) := 0;
			State_Initialize : DINT (RADIX := Decimal) := 0;
			State_Jog : DINT (RADIX := Decimal) := 0;
			State_Stop : DINT (RADIX := Decimal) := 0;
			StopOverrideTimer : TIMER  := [0,0,0];
			TargetSlavePosition : REAL (RADIX := Float) := 5.02231359e+000;
			Time : REAL (RADIX := Float) := 8.49157333e-001;
			TorqueFIFOArray : REAL[100] (RADIX := Float) := [9.90332067e-002,1.54578909e-002,9.51421075e-003,8.92306417e-002,1.79890054e-003,1.72245745e-002
					,2.47651245e-002,6.76388294e-002,3.91824767e-002,7.24628493e-002,4.33363207e-002,1.30557016e-001
					,7.23518757e-003,3.94026414e-002,1.82418444e-003,3.60971726e-002,5.88508546e-002,1.38361722e-001
					,4.47815023e-002,3.32234651e-002,2.39080060e-002,6.97675422e-002,2.11005155e-002,1.77219342e-002
					,5.06916791e-002,9.94428061e-003,1.16010651e-001,6.46263640e-003,2.90366318e-002,3.56995500e-002
					,3.36431079e-002,9.06699076e-002,6.35601208e-002,3.21016870e-002,2.05344297e-002,5.19328266e-002
					,9.41102500e-002,7.73585141e-002,1.49410620e-001,1.02748536e-001,2.67515797e-003,1.09947145e-001
					,1.63915511e-002,2.02600000e-001,5.28946295e-002,7.01749474e-002,5.35416752e-002,2.95867794e-003
					,5.40325418e-002,1.42216800e-001,3.10105048e-002,7.54702836e-002,3.42878997e-002,9.99726355e-002
					,5.29924743e-002,1.03038820e-002,2.50082668e-002,2.88294982e-002,2.45286357e-002,1.28252476e-001
					,6.33164868e-002,1.41512945e-001,5.48971184e-002,7.10166320e-002,4.82436046e-002,1.59023400e-001
					,6.30173236e-002,3.79511677e-002,6.34688511e-002,1.39967576e-001,1.22324727e-001,7.61480164e-003
					,6.94994777e-002,5.29233813e-002,1.72073580e-002,1.39368642e-002,9.85862911e-002,8.90693627e-005
					,2.56998534e-003,4.65475023e-002,1.08224630e-001,3.41331167e-003,5.42651750e-002,1.34006900e-001
					,1.50517985e-001,1.71922590e-003,1.45942100e-002,1.89277560e-001,1.28417343e-001,1.03662550e-001
					,1.48499776e-002,3.53611149e-002,8.39470848e-002,1.03547405e-002,9.23914462e-003,5.63496836e-002
					,1.32696271e-001,8.03106129e-002,2.03627138e-003,0.00000000e+000];
			TorqueFIFOControl : CONTROL  := [-1073741824,100,99];
			TripleMachinePitch : REAL (RADIX := Float) := 0.00000000e+000;
		END_TAG

		ROUTINE P00_Main 
				N: JSR(R01_Initialize,0);
				N: JSR(R02_Jog,0);
				N: JSR(R03_Cam,0);
				N: JSR(R06_Stop,0);
				N: JSR(R07_TorqueLimit,0);
				N: JSR(R08_ExecuteMode,0);
		END_ROUTINE

		ROUTINE R01_Initialize 
				N: [XIC(S:FS) ,XIO(ServoAxis_CMD.Initialize) ]MOV(0,State_Initialize);
				N: EQU(State_Initialize,0)XIC(ServoAxis_CMD.Initialize)MOV(10,State_Initialize);
				N: EQU(State_Initialize,10)[MASD(ServoAxis,Axis_MASD) ,XIC(Axis_MASD.DN) MOV(20,State_Initialize) ];
				N: EQU(State_Initialize,20)[MASR(ServoAxis,Axis_MASR) ,XIC(Axis_MASR.DN) MOV(30,State_Initialize) ];
				N: EQU(State_Initialize,30)[MAFR(ServoAxis,Axis_MAFR) ,XIC(Axis_MAFR.DN) MOV(40,State_Initialize) ];
				N: EQU(State_Initialize,40)EQU(ServoAxis.AxisFault,0)[MSO(ServoAxis,Axis_Enable) ,XIC(Axis_Enable.ER) TON(Retry_MSO,?,?) XIC(Retry_MSO.DN) MOV(0,State_Initialize) ,XIC(ServoAxis.ServoActionStatus) MOV(50,State_Initialize) ];
				N: EQU(State_Initialize,40)NEQ(ServoAxis.AxisFault,0)MOV(0,State_Initialize);
				N: EQU(State_Initialize,50)[OTE(ServoAxis_Status.Initialized) ,XIO(ServoAxis_CMD.Initialize) MOV(0,State_Initialize) ];
				N: GRT(State_Initialize,0)XIO(ServoAxis_CMD.Initialize)TON(InitializeTimer,?,?)XIC(InitializeTimer.DN)OTL(ServoAxis_Tags.InitializeFault);
				N: XIC(ClearServoFaults)MAFR(ServoAxis,Axis_MAFR2);
				N: XIC(ServoAxis_CMD.Abort)[MASD(ServoAxis,Axis_MASD2) ,XIC(Axis_MASD2.DN) OTE(ServoAxis_Status.Aborted) ];
		END_ROUTINE

		ROUTINE R02_Jog 
				N: XIC(ServoAxis_Tags.ManualMode)CPT(JogSpeed,JogSpeedHMI/60)CPT(JogAccel,JogSpeed*0.8)CPT(JogDecel,JogSpeed*1.2);
				N: XIC(ServoAxis_Tags.ManualMode)[XIC(HMI_JogBtn) ,XIC(HMI_JogContinuously) ]MAJ(ServoAxis,Axis_Jog,Jog_Direction,JogSpeed,Units per sec,JogAccel,Units per sec2,JogDecel,Units per sec2,Trapezoidal,100,100,% of Maximum,Disabled,Current,0,None);
				N: XIC(Axis_Jog.IP)[XIO(HMI_JogContinuously) XIO(HMI_JogBtn) ,XIO(ServoAxis_Tags.ManualMode) ]MAS(ServoAxis,Axis_Stop_Jogging,Jog,Yes,JogDecel,Units per sec2,Yes,100,% of Maximum);
		END_ROUTINE

		ROUTINE R03_Cam 
				N: XIC(S:FS)MOV(0,State_Cam);
				N: EQU(State_Cam,0)[XIC(ServoAxis_CMD.Cam) ,XIC(ServoAxis_CMD.ManualModeCam) ][MOV(0,CamTable[0].Slave) ,DIV(CurrentRecipe.CartonLength,MachinePitch_Inches,CamTable[1].Slave) MUL(CamTable[1].Slave,0.93,CamTable[1].Slave) ][MOV(0,CamTable[0].Master) ,MOV(MachinePitch_Inches,CamTable[1].Master) ];
				N: EQU(State_Cam,0)[XIC(ServoAxis_CMD.Cam) ,XIC(ServoAxis_CMD.ManualModeCam) ][XIO(ServoAxis.PositionCamStatus) MCCP(CamMCCPCommand,CamTable[0],2,1,1,CamProfile[0]) [XIC(CamMCCPCommand.DN) MOV(10,State_Cam) ,XIC(CamMCCPCommand.ER) MOV(999,State_Cam) ] ,XIC(ServoAxis.PositionCamStatus) MOV(50,State_Cam) ];
				N: EQU(State_Cam,10)XIC(MAM_command.PC)[MAPC(ServoAxis,MasterAxis,MAPCCommand,0,CamProfile[0],1,1,Continuous,Immediate,0,MasterAxisPitchPos,New Cam,Command,Bi-Directional) ,XIC(MAPCCommand.IP) MOV(50,State_Cam) ,XIC(MAPCCommand.ER) MOV(999,State_Cam) ];
				N: EQU(State_Cam,50)[OTE(ServoAxis_Status.CamEngaged) ,XIO(ServoAxis_CMD.Cam) XIO(ServoAxis_CMD.ManualModeCam) MOV(0,State_Cam) ];
				N: GRT(State_Cam,0)XIO(ServoAxis_Status.CamEngaged)TON(StateCamTimer,?,?);
				N: [EQU(State_Cam,999) ,XIC(StateCamTimer.DN) ][OTL(ServoAxis_Tags.CamFault) ,MOV(0,State_Cam) ];
		END_ROUTINE

		ROUTINE R06_Stop 
				N: [XIC(S:FS) ,XIO(ServoAxis_CMD.Stop) ]MOV(0,State_Stop);
				N: EQU(State_Stop,0)XIC(ServoAxis_CMD.Stop)MOV(10,State_Stop);
				N: EQU(State_Stop,10)[MAS(ServoAxis,MASCommand,All,Yes,5,Units per sec2,Yes,100,% of Maximum) ,[XIC(MASCommand.IP) ,XIC(MASCommand.PC) ] MOV(20,State_Stop) ,XIC(MASCommand.ER) MOV(40,State_Stop) ];
				N: EQU(State_Stop,20)XIC(MASCommand.PC)OTU(MASCommand.PC)MOV(30,State_Stop);
				N: EQU(State_Stop,30)OTE(ServoAxis_Status.Stopped);
				N: EQU(State_Stop,40)TON(RetryTimer,?,?)XIC(RetryTimer.DN)MOV(0,State_Stop);
		END_ROUTINE

		ROUTINE R07_TorqueLimit 
				N: MOV(ServoAxis.TorqueReferenceLimited,CurrentTorque)ABS(CurrentTorque,CurrentTorque)GRT(CurrentTorque,ServoAxis_Tags.MaxRecordedTorque)MOV(CurrentTorque,ServoAxis_Tags.MaxRecordedTorque);
				N: XIC(TorqueResetButtonHMI)MOV(0,ServoAxis_Tags.MaxRecordedTorque);
				N: [GRT(CurrentTorque,ServoAxis_Tags.MaxAllowedTorque) ,XIC(PML_State.Sts_Starting) GRT(CurrentTorque,80) ]OTL(ServoAxis_Tags.OverTorque_fault);
				N: XIO(PML_State.Sts_Aborted)[XIO(TorqueFIFOControl.EN) ADD(CurrentTorque,AverageTorqueAccum,AverageTorqueAccum) FFL(CurrentTorque,TorqueFIFOArray[0],TorqueFIFOControl,?,?) ,XIC(TorqueFIFOControl.DN) FFU(TorqueFIFOArray[0],FirstTorque,TorqueFIFOControl,?,?) SUB(AverageTorqueAccum,FirstTorque,AverageTorqueAccum) DIV(AverageTorqueAccum,TorqueFIFOControl.POS,ServoAxis_Tags.AverageTorque) ,XIC(TorqueResetButtonHMI) MOV(0,TorqueFIFOControl.POS) MOV(0,AverageTorqueAccum) MOV(0,ServoAxis_Tags.AverageTorque) ];
				N: XIC(PML_State.Sts_Aborted)MOV(0,TorqueFIFOControl.POS)MOV(0,AverageTorqueAccum);
				N: GSV(Axis,ServoAxis,TorqueLimitPositive,ServoAxis_Tags.Drive_Internal_TorqueLimit_POS_IN)GSV(Axis,ServoAxis,TorqueLimitNegative,ServoAxis_Tags.Drive_Internal_TorqueLimit_NEG_IN)MUL(ServoAxis_Tags.MaxAllowedTorque,1.1,ServoAxis_Tags.Drive_Internal_TorqueLimit_POS)MUL(ServoAxis_Tags.MaxAllowedTorque,-1.1,ServoAxis_Tags.Drive_Internal_TorqueLimit_NEG)[NEQ(ServoAxis_Tags.Drive_Internal_TorqueLimit_POS_IN,ServoAxis_Tags.Drive_Internal_TorqueLimit_POS) SSV(Axis,ServoAxis,TorqueLimitPositive,ServoAxis_Tags.Drive_Internal_TorqueLimit_POS) ,NEQ(ServoAxis_Tags.Drive_Internal_TorqueLimit_NEG_IN,ServoAxis_Tags.Drive_Internal_TorqueLimit_NEG) SSV(Axis,ServoAxis,TorqueLimitNegative,ServoAxis_Tags.Drive_Internal_TorqueLimit_NEG) ];
		END_ROUTINE

		ROUTINE R08_ExecuteMode 
				N: XIC(MoveMeterBelt)[LES(UplineBeltsMoveDistance,0) DIV(Gear_Ratio,ServoAxis.ActualVelocity,Time) DIV(UplineBeltsMoveDistance,Time,CorrectionSpeed) ABS(CorrectionSpeed,CorrectionSpeed) MUL(CorrectionSpeed,3,CorrectionAccel) MAM(ServoAxis,AdjustmentMoveCmd,Incremental,UplineBeltsMoveDistance,CorrectionSpeed,Units per sec,CorrectionAccel,Units per sec2,CorrectionAccel,Units per sec2,S-Curve,90,90,% of Time,Disabled,Current,0,None,0,0) ,GRT(UplineBeltsMoveDistance,0) ]OTU(MoveMeterBelt);
		END_ROUTINE

		CHILD_PROGRAMS
		END_CHILD_PROGRAMS